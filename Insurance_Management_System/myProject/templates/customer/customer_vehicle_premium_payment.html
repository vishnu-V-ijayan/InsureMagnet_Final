{% extends "customer_base.html" %}
{% load static %}


<!-- customer/policy_receipt.html -->

    {% comment %} <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css"> {% endcomment %}
    {% block style %}
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; }
        .receipt-container {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ddd;
            background: white;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .content {
            margin-top: 20px;
        }
        .qr-code {
            float: right;
            margin-left: 10px;
            border: 1px solid #eee; /* Light grey border around the QR code for better visibility */
            padding: 5px;
        }
        .qr-code img {
            width: 100px; /* Smaller QR code size */
            height: 100px;
        }
        .btn-print {
            margin-top: 20px;
        }
        @media print {
            .btn-print {
                display: none;
            }
        }
    </style>
    {% endblock style %}
    {% block body %}
<body>
    <div class="receipt-container">
        <div class="header">
            <img src="{% static 'img/logo00.png' %}" alt="InsureMagnet Logo" style="max-width: 100px; height: auto;">
            <h1>InsureMagnet</h1>
            <p>Your Trusted Insurance Partner</p>
        </div>
        <div class="content">
            <h2>Policy Receipt</h2>
            <p><strong>Policy Number:</strong> {{ vehicle_policy.id }}</p>
            <p><strong>Issued To:</strong> {{ customer.user.first_name }} {{ customer.user.last_name }}</p>
            <p><strong>Vehicle Number:</strong> {{ vehicle_policy.vehicle_number }}</p>
            <p><strong>Policy Amount:</strong> â‚¹{{ vehicle_policy.policy_amount }}</p>
            <p><strong>Policy End Date:</strong> {{ vehicle_policy.policy_end_date }}</p>
            <div class="qr-code">
                <img src="data:image/png;base64,{{ qr_code }}" alt="QR Code">
            </div>
            <div style="clear: both;"></div>
        </div>
        {% comment %} <button class="btn btn-primary btn-print" onclick="printReceipt()">Print Receipt</button> {% endcomment %}
        <a href="{% url 'vehicle_generate_policy_pdf' vehicle_policy.id %}" class="btn btn-primary">Download PDF</a>
    </div>
    <script>
        function printReceipt() {
            window.print();
        }
    </script>
</body>
{% endblock body %}
